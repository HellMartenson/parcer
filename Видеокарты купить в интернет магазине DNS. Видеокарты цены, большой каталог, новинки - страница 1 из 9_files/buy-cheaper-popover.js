!function(e){e(function(){var o=e("<div/>",{class:"popover bottom",id:"cheaper-popover"}),t=e('<a href="javascript:;" id="cheaper-popover-link" target="_blank" rel="nofollow">Узнать больше</a>'),n=e("<div/>",{style:"position:fixed;left:0;top:0;right:0;bottom:0;z-index:9999;"}),i=e("<div/>",{class:"popover-content"});window.IS_PROZAPASS_DISCOUNT&&(i.append(e('<p id="cheaper-popover-main-info">Копите бонусы и оплачивайте ими свои покупки.</p>')),i.append(e('<p id="cheaper-popover-second-info">1 бонус = 1 рубль скидки.</p>'))),i.append(e("<div/>",{class:"text-right"}).append(t,e("<div/>",{id:"cheaper-popover-title-image"}))),o.append(i),e("body").on("click",".buy-cheaper",function(i){i.preventDefault();var p=e(this);n.appendTo("body"),o.appendTo("body"),t.attr("href",window.PROZAPASS_URL),o.show();var r=p.get(0).getBoundingClientRect(),d=o.get(0).getBoundingClientRect().width,a=r.bottom+e(window).scrollTop(),c=document.documentElement.clientWidth,l=r.left+(r.width/2-d/2);return l+d>c&&(l=c/2-d/2),o.attr("style","left:"+l+"px;top:"+a+"px;z-index:10000;display: block"),!1}),n.click(function(){var e=n.get(0);if(e.remove instanceof Function)e.remove();else{var t=e.parentElement||e.parentNode;t instanceof Object&&t.removeChild instanceof Function&&e.removeChild(e)}o.remove()}),e(window).on("scroll resize",function(){n.trigger("click")})})}(jQuery);