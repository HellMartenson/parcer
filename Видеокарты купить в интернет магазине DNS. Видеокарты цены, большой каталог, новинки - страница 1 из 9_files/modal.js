!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1649)}({0:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dom_onDocumentReady=function(t,e){void 0===e&&(e=!1),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):e&&t(void 0)}},1:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domDispatchEvent=function(t,e,o){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,o),void 0===e?window.dispatchEvent(n):e.dispatchEvent(n)}},110:function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(30),s=o(50),a=n(o(172)),d=function(){function t(){var t=this;this.modals=new Map,window.addEventListener(s.BaseModalEventsEnum.HIDE_ALL,function(){t.modals.forEach(function(t){t.hide()})})}return t.prototype.getInstance=function(t){var e=this;if(t.id=t.id||"m-"+i.String_random(),!1===this.modals.has(t.id)){t.visible=t.visible||!1,t.zIndex=t.zIndex||1600,t.htmlTarget=t.htmlTarget||document.body,t.isFullScreenOnMobile=void 0===t.isFullScreenOnMobile||t.isFullScreenOnMobile,t.mobilePinnedBottom=void 0!==t.mobilePinnedBottom&&t.mobilePinnedBottom;var o=new a.default(this.getModalElement(t),t,t.id);window.addEventListener(s.BaseModalEventsEnum.REMOVED,function(t){e.modals.delete(t.detail.id)}),this.modals.set(t.id,o)}return this.modals.get(t.id)},t.prototype.getModalContainerClass=function(){return this._class("__container")},t.prototype.getModalHeaderClass=function(){return this._class("__header")},t.prototype.getModalHeaderContentClass=function(){return this._class("__header-content")},t.prototype.getModalContentClass=function(){return this._class("__content")},t.prototype.getModalFooterClass=function(){return this._class("__footer")},t.prototype.getCloseButtonClass=function(){return this._class("__header-close-icon")},t.prototype.getModalElement=function(t){return document.getElementById(t.id)||this.render(t)},t.prototype.render=function(t){var e=this._tag("");return e.id=t.id,e.style.zIndex=t.zIndex.toString(),null!==t.modalClass&&e.classList.add(t.modalClass),t.mobilePinnedBottom?e.classList.add(this._class("_pinned-bottom")):t.isFullScreenOnMobile&&e.classList.add(this._class("_full-on-mobile")),this.renderModalContainer(e,t),t.htmlTarget.appendChild(e),e},t.prototype.renderModalContainer=function(t,e){var o=this._tag("__container");e.size&&o.classList.add(this._class("__container_size_"+e.size)),t.appendChild(o),this.renderHeader(o,e),this.renderContent(o,e),this.renderFooter(o,e)},t.prototype.renderHeader=function(t,e){if(void 0!==e.headerHtml){var o=document.createElement("i");o.classList.add(this.getCloseButtonClass()),o.dataset.baseModalAction="close";var n=document.createElement("div");n.classList.add(this.getModalHeaderClass());var i=document.createElement("div");i.classList.add(this.getModalHeaderContentClass()),"object"==typeof e.headerHtml?i.appendChild(e.headerHtml):i.innerHTML=e.headerHtml,n.appendChild(i),n.appendChild(o),t.appendChild(n)}},t.prototype.renderContent=function(t,e){var o=document.createElement("div");o.classList.add(this.getModalContentClass()),e.contentPadded&&o.classList.add(this.getModalContentClass()+"_padded"),"object"==typeof e.contentHtml?o.appendChild(e.contentHtml):o.innerHTML=e.contentHtml,t.appendChild(o)},t.prototype.renderFooter=function(t,e){if(void 0!==e.footerHtml){var o=document.createElement("div");o.classList.add(this.getModalFooterClass()),o.innerHTML=e.footerHtml,t.appendChild(o)}},t.prototype._tag=function(t,e){void 0===e&&(e="div");var o=document.createElement(e);return o.classList.add(this._class(t)),o},t.prototype._class=function(t){return"base-modal"+t},t}();e.default=d},14:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2);e.bemToggleModifier=function(t,e,o,i){var s=e+"_"+o;n.domToggleClass(t,s,i)}},1649:function(t,e,o){t.exports=o(1650)},1650:function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(4),s=o(0),a=n(o(110));window.modalProvider=window.modalProvider||new a.default,s.Dom_onDocumentReady(function(){d()},!0),window.addEventListener(i.AssetsEvents.LOADED,function(){d()});var d=function(){[].slice.call(document.querySelectorAll("[data-base-modal]")).forEach(function(t){window.modalProvider.getInstance({id:t.dataset.baseModalId,htmlTarget:t}).subscribe()})}},172:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(18),i=o(1),s=o(2),a=o(33),d=o(50),l=function(){function t(t,e,o){this.modal=t,this.modalOptions=e,this.modalId=o,this.CLASS_NAME_BASE_MODAL="base-modal",this.CLASS_NAME_BASE_MODAL_OPEN=this.CLASS_NAME_BASE_MODAL+"-open",this.CLASS_NAME_BASE_MODAL_HEADER_CONTENT="base-modal__header-content",this.CLASS_NAME_BASE_MODAL_CONTENT="base-modal__content",this.CLASS_NAME_BASE_MODAL_CONTAINER="base-modal__container",this.CLASS_NAME_BASE_MODAL_CLOSE_BUTTON='[data-base-modal-action="close"]',this.onHideCallbacks=[],this.onHiddenCallbacks=[],this.onShowCallbacks=[],this.onShownCallbacks=[],this.subscribeModalButtons(),e.visible||(n.bemToggleHiddenModifier(this.modal,this.CLASS_NAME_BASE_MODAL,!0),this.modal.hidden=!0)}return t.prototype.subscribe=function(){var t=this;this.modalOptions.visible=!1,this.subscribeModalButtons(),document.body!==this.modalOptions.htmlTarget&&this.modalOptions.htmlTarget.addEventListener("click",function(){t.show()})},t.prototype.onCloseModal=function(t){this.hide(t)&&i.domDispatchEvent(d.BaseModalEventsEnum.CLOSED)},t.prototype.show=function(){this.handleCallbacks(this.onShowCallbacks)&&(this.modalOptions.visible=!0,n.bemToggleHiddenModifier(this.modal,this.CLASS_NAME_BASE_MODAL,!1),this.modal.hidden=!1,i.domDispatchEvent(d.BaseModalEventsEnum.OPENED),this.toggleBodyState(),this.handleCallbacks(this.onShownCallbacks))},t.prototype.hide=function(t){return!!this.handleCallbacks(this.onHideCallbacks)&&(void 0!==t&&t.stopPropagation(),this.modalOptions.visible=!1,n.bemToggleHiddenModifier(this.modal,this.CLASS_NAME_BASE_MODAL,!0),this.modal.hidden=!0,this.toggleBodyState(),this.handleCallbacks(this.onHiddenCallbacks),this.modalOptions.removeOnHidden&&this.remove(),!0)},t.prototype.toggleBodyState=function(){s.domToggleClass(document.body,this.CLASS_NAME_BASE_MODAL_OPEN,null!==document.querySelector(".base-modal:not(.base-modal_hidden)"))},t.prototype.toggleVisibility=function(){this.modalOptions.visible=!this.modalOptions.visible,!0===this.modalOptions.visible?this.show():this.hide()},t.prototype.remove=function(){var t=this;[].slice.call(this.modal.querySelectorAll(this.CLASS_NAME_BASE_MODAL_CLOSE_BUTTON)).forEach(function(e){e.removeEventListener("click",t.onCloseModal.bind(t))}),this.modalOptions.htmlTarget.removeEventListener("click",function(){t.toggleVisibility()}),this.modal.remove(),i.domDispatchEvent(d.BaseModalEventsEnum.REMOVED,void 0,{id:this.modalId}),this.toggleBodyState()},t.prototype.subscribeModalButtons=function(){var t=this;[].slice.call(this.modal.querySelectorAll(this.CLASS_NAME_BASE_MODAL_CLOSE_BUTTON)).forEach(function(e){e.classList.contains("handler-active")||(e.classList.add("handler-active"),e.addEventListener("click",t.onCloseModal.bind(t)))}),this.modal.addEventListener("click",function(e){if(!1!==t.isVisible()){var o=e.target;o.matches(t.CLASS_NAME_BASE_MODAL_CLOSE_BUTTON)||o.classList.contains(t.CLASS_NAME_BASE_MODAL_CONTAINER)||!o.closest("body")||o.closest("."+t.CLASS_NAME_BASE_MODAL_CONTAINER)||t.onCloseModal(e)}}),document.addEventListener("keyup",function(e){a.KeyboardKeys.ESC===e.keyCode&&t.hide()})},t.prototype.onHide=function(t){this.onHideCallbacks.push(t)},t.prototype.onHidden=function(t){this.onHiddenCallbacks.push(t)},t.prototype.onShow=function(t){this.onShowCallbacks.push(t)},t.prototype.onShown=function(t){this.onShownCallbacks.push(t)},t.prototype.setHeader=function(t){var e=this.modal.querySelector("."+this.CLASS_NAME_BASE_MODAL_HEADER_CONTENT);return null===e?this:(e.innerHTML=t,this)},t.prototype.setContent=function(t){var e=this.modal.querySelector("."+this.CLASS_NAME_BASE_MODAL_CONTENT);return null===e?this:"string"==typeof t?(e.innerHTML=t,this):([].slice.call(e.childNodes).forEach(function(t){t.remove()}),e.appendChild(t),this)},t.prototype.isVisible=function(){return this.modalOptions.visible},t.prototype.getContent=function(){return this.modal.querySelector("."+this.CLASS_NAME_BASE_MODAL_CONTENT)},Object.defineProperty(t.prototype,"element",{get:function(){return this.modal},enumerable:!0,configurable:!0}),t.prototype.handleCallbacks=function(t){var e=!0;return t.forEach(function(t){!1===t()&&(e=!1)}),e},t}();e.default=l},18:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(14);e.bemToggleHiddenModifier=function(t,e,o){n.bemToggleModifier(t,e,"hidden",o)}},2:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domToggleClass=function(t,e,o){void 0===o&&(o=!t.classList.contains(e)),!0===o?t.classList.add(e):t.classList.remove(e)}},30:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.String_random=function(t){void 0===t&&(t=5);var e="";do{e+=Math.random().toString(36).substring(2)}while(e.length<t);return e.substring(0,t)}},33:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ENTER=13]="ENTER",t[t.UP=38]="UP",t[t.DOWN=40]="DOWN",t[t.ESC=27]="ESC",t[t.TAB=9]="TAB"}(e.KeyboardKeys||(e.KeyboardKeys={}))},4:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.LOADED="assets:loaded"}(e.AssetsEvents||(e.AssetsEvents={}))},50:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.HIDE_ALL="modal.hide-all",t.OPENED="modal.opened",t.CLOSED="modal.closed",t.REMOVED="modal.removed"}(e.BaseModalEventsEnum||(e.BaseModalEventsEnum={}))}});