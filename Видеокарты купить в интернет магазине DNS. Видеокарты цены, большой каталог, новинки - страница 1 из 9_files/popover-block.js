!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1669)}({1669:function(e,t,o){e.exports=o(1670)},1670:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(o(1671));window.popoverBlock=new n.default},1671:function(e,t,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(o(281)),r=o(17),s=function(){function e(){}return e.prototype.drawById=function(e,t,o,i){return void 0===o&&(o={}),void 0===i&&(i={inBody:!1,trigger:"click",placement:r.PopoverPlacementsEnum.AUTO_Y}),this.draw(document.getElementById(e),document.getElementById(t),o,i)},e.prototype.draw=function(e,t,o,i){return void 0===o&&(o={}),void 0===i&&(i={inBody:!1,trigger:"click",placement:r.PopoverPlacementsEnum.AUTO_Y}),new n.default(e,t,o,i).init()},e}();t.default=s},17:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.AUTO="auto",e.AUTO_X="auto-x",e.AUTO_Y="auto-y"}(t.PopoverPlacementsEnum||(t.PopoverPlacementsEnum={}))},176:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dom_getMaxZIndex=function e(t,o){return void 0===o&&(o=0),t!==document.body&&t?Math.max(parseInt(window.getComputedStyle(t).zIndex,10)||0,e(t.parentElement,o)):o}},2:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domToggleClass=function(e,t,o){void 0===o&&(o=!e.classList.contains(t)),!0===o?e.classList.add(t):e.classList.remove(t)}},281:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),n=o(176),r=o(30),s=o(75),p=o(17),a=function(){function e(e,t,o,i){void 0===o&&(o={}),void 0===i&&(i={placement:p.PopoverPlacementsEnum.AUTO_Y,inBody:!1}),this._wrapper=e,this._content=t,this._attributes=o,this._renderOptions=i,this.BLOCK_CLASS_WRAPPER="popover-wrapper",this.BLOCK_CLASS_POPOVER="popover-block",this.MODIFIER_SHOW="_show",this._onHideCallbacks=[]}return e.prototype.init=function(){var e=this;if(this._wrapper.id?this._id=this._wrapper.id:(this._id="p-"+r.String_random(),this._wrapper.id=this._id),this._wrapper.classList.add(this.BLOCK_CLASS_WRAPPER),"string"==typeof this._content){var t=document.createElement("div");t.innerHTML=this._content,this._content=t}else this._content.remove();return"hover"===this._renderOptions.trigger?(this._wrapper.addEventListener("mouseleave",function(){e.setHideTimeout()}),this._wrapperHandlerActive=function(){e._renderOptions.showTimeout?(clearTimeout(e._showTimeout),e._showTimeout=setTimeout(function(){e.toggle(!0)},e._renderOptions.showTimeout)):e.toggle(!0)},this._wrapper.addEventListener("mouseenter",this._wrapperHandlerActive)):(this._clickHandlerActive=this.clickHandler.bind(this),this._closeHandlerActive=this.closeHandler.bind(this),window.addEventListener("click",this._clickHandlerActive),window.addEventListener(s.PopoverBlockEventsEnum.CLOSE,this._closeHandlerActive)),this._renderOptions.placement||(this._renderOptions.placement=p.PopoverPlacementsEnum.AUTO_Y),this},Object.defineProperty(e.prototype,"content",{set:function(e){if(this._popover&&(this._popover.innerHTML=""),"string"==typeof e){var t=document.createElement("div");t.innerHTML=e,this._content=t}else this._content=e;this._popover&&this._popover.appendChild(this._content)},enumerable:!0,configurable:!0}),e.prototype.getContent=function(){return this._content},Object.defineProperty(e.prototype,"beforeShowCallback",{set:function(e){this._beforeShowCallback=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterShowCallback",{set:function(e){this._afterShowCallback=e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){window.removeEventListener("click",this._clickHandlerActive),window.removeEventListener(s.PopoverBlockEventsEnum.CLOSE,this._closeHandlerActive),this._wrapper.removeEventListener("mouseenter",this._wrapperHandlerActive),this._popover&&this._popover.remove()},e.prototype.closeHandler=function(){this.toggle(!1)},e.prototype.clickHandler=function(e){null===e.target.closest("#pb-"+this._id)&&(e.target===this._wrapper||null!==e.target.closest("#"+this._id)?this.toggle():this.toggle(!1))},e.prototype.getPopover=function(){var e=this;if(this._popover)return this._popover;var t=this._content;return this._popover=document.createElement("div"),this._popover.id="pb-"+this._id,this._popover.classList.add(this.BLOCK_CLASS_POPOVER),this._popover.appendChild(t),t.removeAttribute("hidden"),Object.keys(this._attributes).forEach(function(t){"bem-modifier"===t?e._popover.classList.add(e.BLOCK_CLASS_POPOVER+e._attributes[t]):"class"!==t?e._popover.setAttribute(t,e._attributes[t]):"class"===t&&e._popover.classList.add(e._attributes[t])}),this._wrapper.closest(".base-modal")&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_in-modal"),this._renderOptions.padded&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_padded"),this._renderOptions.overflow&&this._popover.classList.add(this.BLOCK_CLASS_POPOVER+"_overflow"),this._renderOptions.inBody?document.body.appendChild(this._popover):this._wrapper.appendChild(this._popover),"hover"===this._renderOptions.trigger&&(this._popover.addEventListener("mouseleave",function(){e.setHideTimeout()}),this._popover.addEventListener("mouseenter",function(){clearTimeout(e._hideTimeout)})),this._popover},e.prototype.toggle=function(e,t){e&&this._beforeShowCallback&&this._beforeShowCallback(),i.domToggleClass(this.getPopover(),this.BLOCK_CLASS_POPOVER+this.MODIFIER_SHOW,e),i.domToggleClass(this._wrapper,this.BLOCK_CLASS_WRAPPER+this.MODIFIER_SHOW,e),this.isShowed?(t&&this.setHideTimeout(t),this._renderOptions.inBody?this.calculatePositionInBody():this.calculatePositionInWrapper(),this._afterShowCallback&&this._afterShowCallback()):this._onHideCallbacks.forEach(function(e){e()})},Object.defineProperty(e.prototype,"isShowed",{get:function(){return this._wrapper.classList.contains(this.BLOCK_CLASS_WRAPPER+this.MODIFIER_SHOW)},enumerable:!0,configurable:!0}),e.prototype.onHide=function(e){this._onHideCallbacks.push(e)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.setHideTimeout=function(e){var t=this;void 0===e&&(e=100),clearTimeout(this._showTimeout),clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){t.toggle(!1)},e)},e.prototype.calculateDirection=function(){if(-1===[p.PopoverPlacementsEnum.AUTO,p.PopoverPlacementsEnum.AUTO_X,p.PopoverPlacementsEnum.AUTO_Y].indexOf(this._renderOptions.placement))return this._renderOptions.placement;var e,t=this._wrapper.getBoundingClientRect(),o=new Map;-1!==[p.PopoverPlacementsEnum.AUTO,p.PopoverPlacementsEnum.AUTO_Y].indexOf(this._renderOptions.placement)&&(t.y>this._popover.offsetHeight&&(e=p.PopoverPlacementsEnum.TOP,o.set(p.PopoverPlacementsEnum.TOP,t.top)),t.y<this._popover.offsetHeight&&(e=p.PopoverPlacementsEnum.BOTTOM,o.set(p.PopoverPlacementsEnum.BOTTOM,t.top))),-1!==[p.PopoverPlacementsEnum.AUTO,p.PopoverPlacementsEnum.AUTO_X].indexOf(this._renderOptions.placement)&&(t.x>this._popover.offsetWidth&&(e=e||p.PopoverPlacementsEnum.RIGHT,o.set(p.PopoverPlacementsEnum.RIGHT,t.right)),t.x<this._popover.offsetWidth&&o.set(p.PopoverPlacementsEnum.LEFT,t.left));var i=0;return o.forEach(function(t,o){i<t&&(e=o,i=t)}),e},e.prototype.calculatePositionInWrapper=function(){var e=this.getPopover(),t=e.getBoundingClientRect();switch(e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("bottom"),e.style.removeProperty("right"),this.calculateDirection()){case p.PopoverPlacementsEnum.TOP:e.style.bottom="calc(100% + 10px)",e.style.left=(this._wrapper.offsetWidth/2-t.width/2).toString()+"px";break;case p.PopoverPlacementsEnum.BOTTOM:e.style.top="calc(100% + 10px)",e.style.left=(this._wrapper.offsetWidth/2-t.width/2).toString()+"px";break;case p.PopoverPlacementsEnum.LEFT:e.style.top=(this._wrapper.offsetHeight/2-t.height/2).toString()+"px",e.style.left="-"+(e.offsetWidth+10).toString()+"px";break;case p.PopoverPlacementsEnum.RIGHT:e.style.top=(this._wrapper.offsetHeight/2-t.height/2).toString()+"px",e.style.left=(this._wrapper.offsetWidth+10).toString()+"px"}this.checkBoundaries(e)},e.prototype.calculatePositionInBody=function(){var e=this.getPopover(),t=this._wrapper.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;switch(this.calculateDirection()){case p.PopoverPlacementsEnum.TOP:e.style.top=(t.top+i-e.offsetHeight-10).toString()+"px",e.style.left=(t.left+o-e.offsetWidth/2+t.width/2).toString()+"px";break;case p.PopoverPlacementsEnum.AUTO:case p.PopoverPlacementsEnum.BOTTOM:e.style.top=(t.top+i+this._wrapper.offsetHeight+10).toString()+"px",e.style.left=(t.left+o-e.offsetWidth/2+t.width/2).toString()+"px";break;case p.PopoverPlacementsEnum.LEFT:e.style.top=(t.top+i-this._popover.offsetHeight/2+this._wrapper.offsetHeight/2).toString()+"px",e.style.left=(t.left+o-(e.offsetWidth+10)).toString()+"px";break;case p.PopoverPlacementsEnum.RIGHT:e.style.top=(t.top+i-this._popover.offsetHeight/2+this._wrapper.offsetHeight/2).toString()+"px",e.style.left=(t.left+o+(this._wrapper.offsetWidth+10)).toString()+"px"}e.style.zIndex=""+(n.Dom_getMaxZIndex(this._wrapper)+10),this.checkBoundaries(e)},e.prototype.checkBoundaries=function(e){var t=e.getBoundingClientRect(),o=this._wrapper.getBoundingClientRect(),i=window.outerHeight||screen.height,n=screen.width||window.innerWidth;t.left<0&&(e.style.right="initial",e.style.left="-1px"),t.left+t.width>n&&(e.style.left="initial",e.style.right="-1px"),t.top<0&&(e.style.top=o.bottom.toString()+"px"),t.top+t.height>i&&(e.style.top=o.top.toString()+"px")},e}();t.default=a},30:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.String_random=function(e){void 0===e&&(e=5);var t="";do{t+=Math.random().toString(36).substring(2)}while(t.length<e);return t.substring(0,e)}},75:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CLOSE="popover-block.close"}(t.PopoverBlockEventsEnum||(t.PopoverBlockEventsEnum={}))}});