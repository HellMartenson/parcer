!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=688)}({11:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=function(){function t(){var t=this;this._waitingElements=[],this.addWaitingState=function(e){i.Dom_addClasses(e,["ajs-placeholder","ajs-placeholder_waiting"]),t._waitingElements.push(e)}}return Object.defineProperty(t.prototype,"service",{set:function(t){this._service=t},enumerable:!0,configurable:!0}),t.prototype.needGetStateAfterBuild=function(t){return!0},t.prototype.afterRefresh=function(t){this._waitingElements.forEach(function(t){setTimeout(function(){t.classList.remove("ajs-placeholder_waiting")}),setTimeout(function(){t.classList.remove("ajs-placeholder")},1e3)}),this._waitingElements=[]},t}();e.AjaxStateProcessorAbstract=s},134:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.UPDATE="wishlist-link:update"}(e.WishlistLinkEventsEnum||(e.WishlistLinkEventsEnum={}))},2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domToggleClass=function(t,e,n){void 0===n&&(n=!t.classList.contains(e)),!0===n?t.classList.add(e):t.classList.remove(e)}},3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dom_addClasses=function(t,e){e.forEach(function(e){t.classList.add(e)})}},688:function(t,e,n){t.exports=n(689)},689:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),s=n(690);window.AjaxStateProcessorRegistrator.register("wishlist-link",new s.WishlistLinkProcessor),window.EVENT_UPDATE_WISHLIST=i.WishlistLinkEventsEnum.UPDATE},690:function(t,e,n){"use strict";var i,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(3),a=n(11),u=n(134),c=function(t){function e(){var e=t.call(this)||this;return e._badges=new Map,window.addEventListener(u.WishlistLinkEventsEnum.UPDATE,function(t){var n=t.detail;e._count=n.count,e._badges.forEach(function(t,n){e.updateCount(n)})}),e}return s(e,t),e.prototype.build=function(t){this.render(t,!0)},e.prototype.refresh=function(t,e){e&&(this._count=e.count),this.render(t,!1)},e.prototype.render=function(t,e){if(!0===e){var n=t.data,i=document.getElementById(t.id);if(null===i)return;var s=window.links.createLinkBase("",n.url);s.classList.add("wishlist-link");var o=document.createElement("span");r.Dom_addClasses(o,["wishlist-link__badge","wishlist-link__badge_empty"]),this._badges.set(t.id,o),s.appendChild(o);var a=document.createElement("span");a.classList.add("wishlist-link__icon"),s.appendChild(a);var u=document.createElement("span");u.innerText="Избранное",u.classList.add("wishlist-link__lbl"),s.appendChild(u),i.parentElement.replaceChild(s,i)}else this.updateCount(t.id)},e.prototype.updateCount=function(t){var e=this._badges.get(t);e&&(e.innerText=0!==this._count?this._count.toString():"",o.domToggleClass(e,"wishlist-link__badge_empty",0===this._count));var n=document.querySelector(".profile-menu-widget__menu-item_favorite .profile-menu-widget__menu-item-count");null!==n&&(n.innerText=""+(this._count||""))},e}(a.AjaxStateProcessorAbstract);e.WishlistLinkProcessor=c}});