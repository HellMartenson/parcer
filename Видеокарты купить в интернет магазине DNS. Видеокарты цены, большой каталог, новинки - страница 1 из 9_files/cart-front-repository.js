!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1450)}({1450:function(t,e,r){t.exports=r(1451)},1451:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(166));window.cartRepository=new o.default},166:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,u){function i(t){try{c(n.next(t))}catch(t){u(t)}}function a(t){try{c(n.throw(t))}catch(t){u(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,a)}c((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var r,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=n[2&u[0]?"return":u[0]?"throw":"next"])&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[0,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=u(r(167)),a=function(){function t(){}return t.prototype.getCurrentGroup=function(){var t=this;return this.getCurrentGroupId().then(function(e){return t.getGroup(e).then(function(t){return t})})},t.prototype.getGroup=function(t){return(new i.default).getCartGroupById(t).then(function(t){return void 0!==t?t.data:[]})},t.prototype.setGroup=function(t,e){var r=this;return(new i.default).setCartGroup(t,e).then(function(t){return r.generateCartHash(),t})},t.prototype.setCartOptions=function(t,e){var r=this;return(new i.default).setStoreCartOptions(t,e).then(function(t){return r.generateCartHash(),t})},t.prototype.getCurrentGroupId=function(){return(new i.default).getCurrentGroupId().then(function(t){return void 0!==t?t:""})},t.prototype.setCurrentGroupId=function(t){return(new i.default).setCurrentGroupId(t).then(function(t){return t})},t.prototype.getCurrentCartOptions=function(){var t=this;return this.getCurrentGroupId().then(function(e){return t.getCartOptions(e)})},t.prototype.getCartOptions=function(t){return(new i.default).getCartOptions(t).then(function(t){return void 0!==t?t.data:null})},t.prototype.deleteGroup=function(t){return(new i.default).deleteGroup(t).then(function(t){return t})},t.prototype.clear=function(){return(new i.default).clearStoreCartGroup().then(function(t){return t})},t.prototype.generateCartHash=function(){return n(this,void 0,void 0,function(){var e,n,u,i,a,c;return o(this,function(o){switch(o.label){case 0:return e=r(169).v5,[4,Promise.all([this.getCurrentGroup(),this.getCurrentCartOptions(),this.getCurrentGroupId()])];case 1:return n=o.sent(),u=n[0],i=n[1],a=n[2],c=u.map(function(t){return t.id+t.price+t.count}).join("")+i.useDl+a,localStorage.setItem(t.CART_HASH_KEY_NAME,e(c,i.cityId)),[2]}})})},t.prototype.getCartHash=function(){return localStorage.getItem(t.CART_HASH_KEY_NAME)},t.CART_HASH_KEY_NAME="cartRepositoryHash",t}();e.default=a},167:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(43)),u=n(r(168)),i=function(){function t(){this.dbConnect=this.initDb()}return t.prototype.initDb=function(){var e=this;return o.default.open(t.DB_NAME,t.DB_VERSION,function(t){return e.migrateDb(t)})},t.prototype.migrateDb=function(e){switch(e.oldVersion){case 0:e.createObjectStore(t.STORE_CART_GROUP,{keyPath:t.ATTR_ID}),e.createObjectStore(t.STORE_CURRENT_GROUP_ID);case 1:e.createObjectStore(t.STORE_CART_OPTIONS,{keyPath:t.ATTR_ID})}},t.prototype.getStoreCartGroup=function(){return this.dbConnect.then(function(e){return e.transaction(t.STORE_CART_GROUP,"readwrite").objectStore(t.STORE_CART_GROUP)})},t.prototype.deleteGroup=function(e){return this.dbConnect.then(function(r){return r.transaction(t.STORE_CART_GROUP,"readwrite").objectStore(t.STORE_CART_GROUP).delete(e),!0})},t.prototype.clearStoreCartGroup=function(){return this.dbConnect.then(function(e){return e.transaction(t.STORE_CART_GROUP,"readwrite").objectStore(t.STORE_CART_GROUP).clear(),!0})},t.prototype.setCartGroup=function(e,r){return this.dbConnect.then(function(n){var o=n.transaction(t.STORE_CART_GROUP,"readwrite").objectStore(t.STORE_CART_GROUP),i=new u.default;return i.id=e,i.data=r,o.put(i),!0})},t.prototype.getCartGroupById=function(e){return this.dbConnect.then(function(r){return r.transaction(t.STORE_CART_GROUP,"readwrite").objectStore(t.STORE_CART_GROUP).get(e)})},t.prototype.getStoreCartOptions=function(){return this.dbConnect.then(function(e){return e.transaction(t.STORE_CART_OPTIONS,"readwrite").objectStore(t.STORE_CART_OPTIONS)})},t.prototype.getCartOptions=function(e){return this.dbConnect.then(function(r){return r.transaction(t.STORE_CART_OPTIONS,"readwrite").objectStore(t.STORE_CART_OPTIONS).get(e)})},t.prototype.setStoreCartOptions=function(e,r){return this.dbConnect.then(function(n){var o=n.transaction(t.STORE_CART_OPTIONS,"readwrite").objectStore(t.STORE_CART_OPTIONS),i=new u.default;return i.id=e,i.data=r,o.put(i),!0})},t.prototype.getStoreCurrentGroup=function(){return this.dbConnect.then(function(e){return e.transaction(t.STORE_CURRENT_GROUP_ID,"readwrite").objectStore(t.STORE_CURRENT_GROUP_ID)})},t.prototype.setCurrentGroupId=function(e){return this.dbConnect.then(function(r){return r.transaction(t.STORE_CURRENT_GROUP_ID,"readwrite").objectStore(t.STORE_CURRENT_GROUP_ID).put(e,"id"),!0})},t.prototype.getCurrentGroupId=function(){return this.dbConnect.then(function(e){return e.transaction(t.STORE_CURRENT_GROUP_ID,"readwrite").objectStore(t.STORE_CURRENT_GROUP_ID).get("id")})},t.ATTR_ID="id",t.DB_NAME="cart-group",t.DB_VERSION=2,t.STORE_CART_GROUP="cart-group",t.STORE_CART_OPTIONS="cart-options",t.STORE_CURRENT_GROUP_ID="current-group-id",t}();e.default=i},168:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(){}}();e.default=n},169:function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});var o=new Uint8Array(16);function u(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"==typeof t&&i.test(t)},c=[],s=0;s<256;++s)c.push((s+256).toString(16).substr(1));var f,p,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r},l=0,h=0;var _=function(t,e,r){var n=e&&r||0,o=e||new Array(16),i=(t=t||{}).node||f,a=void 0!==t.clockseq?t.clockseq:p;if(null==i||null==a){var c=t.random||(t.rng||u)();null==i&&(i=f=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=p=16383&(c[6]<<8|c[7]))}var s=void 0!==t.msecs?t.msecs:Date.now(),_=void 0!==t.nsecs?t.nsecs:h+1,y=s-l+(_-h)/1e4;if(y<0&&void 0===t.clockseq&&(a=a+1&16383),(y<0||s>l)&&void 0===t.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=s,h=_,p=a;var v=(1e4*(268435455&(s+=122192928e5))+_)%4294967296;o[n++]=v>>>24&255,o[n++]=v>>>16&255,o[n++]=v>>>8&255,o[n++]=255&v;var R=s/4294967296*1e4&268435455;o[n++]=R>>>8&255,o[n++]=255&R,o[n++]=R>>>24&15|16,o[n++]=R>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var C=0;C<6;++C)o[n+C]=i[C];return e||d(o)};var y=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};var v=function(t,e,r){function n(t,n,o,u){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+t.length);if(i.set(n),i.set(t,n.length),(i=r(i))[6]=15&i[6]|e,i[8]=63&i[8]|128,o){u=u||0;for(var a=0;a<16;++a)o[u+a]=i[a];return o}return d(i)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function R(t){return 14+(t+64>>>9<<4)+1}function C(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function b(t,e,r,n,o,u){return C((i=C(C(e,t),C(n,u)))<<(a=o)|i>>>32-a,r);var i,a}function O(t,e,r,n,o,u,i){return b(e&r|~e&n,t,e,o,u,i)}function g(t,e,r,n,o,u,i){return b(e&n|r&~n,t,e,o,u,i)}function S(t,e,r,n,o,u,i){return b(e^r^n,t,e,o,u,i)}function T(t,e,r,n,o,u,i){return b(r^(e|~n),t,e,o,u,i)}var w=v("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n=0;n<r;n+=8){var o=t[n>>5]>>>n%32&255,u=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);e.push(u)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[R(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,u=271733878,i=0;i<t.length;i+=16){var a=r,c=n,s=o,f=u;r=O(r,n,o,u,t[i],7,-680876936),u=O(u,r,n,o,t[i+1],12,-389564586),o=O(o,u,r,n,t[i+2],17,606105819),n=O(n,o,u,r,t[i+3],22,-1044525330),r=O(r,n,o,u,t[i+4],7,-176418897),u=O(u,r,n,o,t[i+5],12,1200080426),o=O(o,u,r,n,t[i+6],17,-1473231341),n=O(n,o,u,r,t[i+7],22,-45705983),r=O(r,n,o,u,t[i+8],7,1770035416),u=O(u,r,n,o,t[i+9],12,-1958414417),o=O(o,u,r,n,t[i+10],17,-42063),n=O(n,o,u,r,t[i+11],22,-1990404162),r=O(r,n,o,u,t[i+12],7,1804603682),u=O(u,r,n,o,t[i+13],12,-40341101),o=O(o,u,r,n,t[i+14],17,-1502002290),n=O(n,o,u,r,t[i+15],22,1236535329),r=g(r,n,o,u,t[i+1],5,-165796510),u=g(u,r,n,o,t[i+6],9,-1069501632),o=g(o,u,r,n,t[i+11],14,643717713),n=g(n,o,u,r,t[i],20,-373897302),r=g(r,n,o,u,t[i+5],5,-701558691),u=g(u,r,n,o,t[i+10],9,38016083),o=g(o,u,r,n,t[i+15],14,-660478335),n=g(n,o,u,r,t[i+4],20,-405537848),r=g(r,n,o,u,t[i+9],5,568446438),u=g(u,r,n,o,t[i+14],9,-1019803690),o=g(o,u,r,n,t[i+3],14,-187363961),n=g(n,o,u,r,t[i+8],20,1163531501),r=g(r,n,o,u,t[i+13],5,-1444681467),u=g(u,r,n,o,t[i+2],9,-51403784),o=g(o,u,r,n,t[i+7],14,1735328473),n=g(n,o,u,r,t[i+12],20,-1926607734),r=S(r,n,o,u,t[i+5],4,-378558),u=S(u,r,n,o,t[i+8],11,-2022574463),o=S(o,u,r,n,t[i+11],16,1839030562),n=S(n,o,u,r,t[i+14],23,-35309556),r=S(r,n,o,u,t[i+1],4,-1530992060),u=S(u,r,n,o,t[i+4],11,1272893353),o=S(o,u,r,n,t[i+7],16,-155497632),n=S(n,o,u,r,t[i+10],23,-1094730640),r=S(r,n,o,u,t[i+13],4,681279174),u=S(u,r,n,o,t[i],11,-358537222),o=S(o,u,r,n,t[i+3],16,-722521979),n=S(n,o,u,r,t[i+6],23,76029189),r=S(r,n,o,u,t[i+9],4,-640364487),u=S(u,r,n,o,t[i+12],11,-421815835),o=S(o,u,r,n,t[i+15],16,530742520),n=S(n,o,u,r,t[i+2],23,-995338651),r=T(r,n,o,u,t[i],6,-198630844),u=T(u,r,n,o,t[i+7],10,1126891415),o=T(o,u,r,n,t[i+14],15,-1416354905),n=T(n,o,u,r,t[i+5],21,-57434055),r=T(r,n,o,u,t[i+12],6,1700485571),u=T(u,r,n,o,t[i+3],10,-1894986606),o=T(o,u,r,n,t[i+10],15,-1051523),n=T(n,o,u,r,t[i+1],21,-2054922799),r=T(r,n,o,u,t[i+8],6,1873313359),u=T(u,r,n,o,t[i+15],10,-30611744),o=T(o,u,r,n,t[i+6],15,-1560198380),n=T(n,o,u,r,t[i+13],21,1309151649),r=T(r,n,o,u,t[i+4],6,-145523070),u=T(u,r,n,o,t[i+11],10,-1120210379),o=T(o,u,r,n,t[i+2],15,718787259),n=T(n,o,u,r,t[i+9],21,-343485551),r=C(r,a),n=C(n,c),o=C(o,s),u=C(u,f)}return[r,n,o,u]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(R(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))});var I=function(t,e,r){var n=(t=t||{}).random||(t.rng||u)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return d(n)};function E(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function A(t,e){return t<<e|t>>>32-e}var m=v("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var u=t.length/4+2,i=Math.ceil(u/16),a=new Array(i),c=0;c<i;++c){for(var s=new Uint32Array(16),f=0;f<16;++f)s[f]=t[64*c+4*f]<<24|t[64*c+4*f+1]<<16|t[64*c+4*f+2]<<8|t[64*c+4*f+3];a[c]=s}a[i-1][14]=8*(t.length-1)/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=8*(t.length-1)&4294967295;for(var p=0;p<i;++p){for(var d=new Uint32Array(80),l=0;l<16;++l)d[l]=a[p][l];for(var h=16;h<80;++h)d[h]=A(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var _=r[0],y=r[1],v=r[2],R=r[3],C=r[4],b=0;b<80;++b){var O=Math.floor(b/20),g=A(_,5)+E(O,y,v,R)+C+e[O]+d[b]>>>0;C=R,R=v,v=A(y,30)>>>0,y=_,_=g}r[0]=r[0]+_>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]});var P=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)};r.d(e,"v1",function(){return _}),r.d(e,"v3",function(){return w}),r.d(e,"v4",function(){return I}),r.d(e,"v5",function(){return m}),r.d(e,"NIL",function(){return"00000000-0000-0000-0000-000000000000"}),r.d(e,"version",function(){return P}),r.d(e,"validate",function(){return a}),r.d(e,"stringify",function(){return d}),r.d(e,"parse",function(){return y})},43:function(t,e,r){"use strict";!function(){function e(t){return new Promise(function(e,r){t.onsuccess=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function r(t,r,n){var o,u=new Promise(function(u,i){e(o=t[r].apply(t,n)).then(u,i)});return u.request=o,u}function n(t,e,r){r.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(t){this[e][r]=t}})})}function o(t,e,n,o){o.forEach(function(o){o in n.prototype&&(t.prototype[o]=function(){return r(this[e],o,arguments)})})}function u(t,e,r,n){n.forEach(function(n){n in r.prototype&&(t.prototype[n]=function(){return this[e][n].apply(this[e],arguments)})})}function i(t,e,n,o){o.forEach(function(o){o in n.prototype&&(t.prototype[o]=function(){return t=this[e],(n=r(t,o,arguments)).then(function(t){if(t)return new c(t,n.request)});var t,n})})}function a(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function s(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,r){t.oncomplete=function(){e()},t.onerror=function(){r(t.error)},t.onabort=function(){r(t.error)}})}function p(t,e,r){this._db=t,this.oldVersion=e,this.transaction=new f(r)}function d(t){this._db=t}n(a,"_index",["name","keyPath","multiEntry","unique"]),o(a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(a,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var r=this,n=arguments;return Promise.resolve().then(function(){return r._cursor[t].apply(r._cursor,n),e(r._request).then(function(t){if(t)return new c(t,r._request)})})})}),s.prototype.createIndex=function(){return new a(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new a(this._store.index.apply(this._store,arguments))},n(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(s,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},n(f,"_tx",["objectStoreNames","mode"]),u(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},n(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},n(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[s,a].forEach(function(e){e.prototype[t.replace("open","iterate")]=function(){var e,r=(e=arguments,Array.prototype.slice.call(e)),n=r[r.length-1],o=this._store||this._index,u=o[t].apply(o,r.slice(0,-1));u.onsuccess=function(){n(u.result)}}})}),[a,s].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var r=this,n=[];return new Promise(function(o){r.iterateCursor(t,function(t){t?(n.push(t.value),void 0===e||n.length!=e?t.continue():o(n)):o(n)})})})});var l={open:function(t,e,n){var o=r(indexedDB,"open",[t,e]),u=o.request;return u.onupgradeneeded=function(t){n&&n(new p(u.result,t.oldVersion,u.transaction))},o.then(function(t){return new d(t)})},delete:function(t){return r(indexedDB,"deleteDatabase",[t])}};t.exports=l,t.exports.default=t.exports}()}});